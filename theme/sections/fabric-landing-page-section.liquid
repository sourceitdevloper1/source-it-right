<!-- Fabric landing product section -->

<div class="container">
  <div class="page__content rte row">
    <div class="main-title xs-show dacing-font">Fresh Arrivals</div>
    <div class="banner-wrapper">
      <div class="text-wrapper">
        <div class="banner-image h_none">
          {% unless section.settings.banner_image_desktop == blank %}
          <div class="desktop_image xs-hide">
            {%- assign src_name = section.settings.banner_image_desktop -%}
            {%- assign src_alt = section.settings.banner_image_desktop | escape  -%}
            {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
          </div>
          {% endunless %}
          {% unless section.settings.banner_image_mobile == blank %}
          <div class="mobile_image xs-show">
            {%- assign src_name = section.settings.banner_image_mobile -%}
            {%- assign src_alt = section.settings.banner_image_mobile | escape  -%}
            {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
          </div>
           {% endunless %}
        </div>
        <div class="banner-text dacing-font">
          <div class="title">{{ section.settings.banner_title_text }}</div>
          <div class="sub-title">{{ section.settings.banner_subtitle_text }}</div>
        </div>
      </div>
    </div>
    <div class="texture-div xs-hide">
      <img src="{{ 'Vector_Smart_Object_copy_3.png' | file_url }}" alt="Texture Image">
    </div>
    <div class="text-with-image-wrapper">
      {% for block in section.blocks %}
      {% if block.type == 'collection' %}
        <div class="image-with-text flex_view middle {% if block.settings.text_align == 'left' %}reverse{% endif %}">
          <div class="text-wrapper">
            <div class="heading-text dacing-font">
              <div class="mini-title">{{ block.settings.block_minititle_text }}</div>
              <div class="title">{{ block.settings.block_title_text }}</div>   
            </div>
            <div class="sub-title">{{ block.settings.block_subtitle_text }}</div>
          </div>
          <div class="image-wrapper">
            {% unless block.settings.block_desktop_image == blank %}
              <div class="desktop_image xs-hide">
              {%- assign src_name = block.settings.block_desktop_image -%}
              {%- assign src_alt = block.settings.block_desktop_image | escape  -%}
              {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
              <div class="texture-image">
                <img src="{{ 'flower_pattern.png' | file_url }}" alt="Texture Image">
              </div>  
              </div>
            {% endunless %}
            {% unless block.settings.block_mobile_image == blank %}
            <div class="mobile_image xs-show">
              {%- assign src_name = block.settings.block_mobile_image -%}
              {%- assign src_alt = block.settings.block_mobile_image | escape  -%}
              {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
              <div class="texture-image">
                <img src="{{ 'flower_pattern.png' | file_url }}" alt="Texture Image">
              </div>
            </div>
            {% endunless %}
          </div>
        </div>  
      {% endif %}
      {% if block.type == 'three_image' %}
        <div class="three-image-section-wrapper flex_view middle reverse">
          {% unless block.settings.three_image_1_desktop == blank %}
          <div class="three-image-section desktop_image xs-hide">
            <div class="image-one">
              {%- assign src_name = block.settings.three_image_1_desktop -%}
              {%- assign src_alt = block.settings.three_image_1_desktop | escape  -%}
              {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
            </div>
          </div>
          {% endunless %}
          {% unless block.settings.three_image_title_text == blank %}
          <div class="text-wrapper dacing-font">
            <div class="title">{{ block.settings.three_image_title_text }}</div>
            <div class="sub-title">{{ block.settings.three_image_subtitle_text }}</div>
          </div>
          {% endunless %}
          {% unless block.settings.three_image_1_mobile == blank %}
          <div class="three-image-section mobile_image xs-show">
            <div class="image-one">
              {%- assign src_name = block.settings.three_image_1_mobile -%}
              {%- assign src_alt = block.settings.three_image_1_mobile | escape  -%}
              {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
            </div>
          </div>
          {% endunless %}
        </div>
      {% endif %}
      {% endfor %}
    </div>
    <div class="slider-wrapper flex_view middle">
      <div class="slider-title dacing-font">{{ section.settings.collection_title }}</div>
      <div class="slider-landing-page-three">
        {% assign collection = section.settings.collection %}
        {% assign prod_limit = section.settings.product_limit | plus:0 %}
        {% for product in collections[collection].products limit: prod_limit %}
        <div class="1/3--tablet-and-up 1/6--desk 1/2--phone grid_mobile">
          <div class="product_card">
            <a class="product_block" href="{{ product.url }} " title="{{ product.title }}" tabindex="0">
              <div class="img">
                {%- assign src_name = product -%}
                {%- assign src_alt = product.title  -%}
                {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
              </div>
              <div class="title_wrap">
                <h5 class="prod_title">{{ product.title }}</h5>
              </div>
            </a>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="button-wrapper">
        <a href="{{ collections[collection].url }}" class="button" title="{{ collections[collection].title }}">EXPLORE MORE</a>
      </div>
    </div>
    <div class="collection-with-image-wrapper flex_view middle">        
      {% for block in section.blocks %}
        {% if block.type == 'collection_with_image' %}
        {% assign collection1 = block.settings.collection_1_handle %}
        {% assign collection2 = block.settings.collection_2_handle %}
          <div class="header-text dacing-font">
            <div class="title">{{ block.settings.collection_title_text }}</div>
            <div class="subtitle">{{ block.settings.collection_subtitle_text }}</div>  
          </div>
          <div class="collection-with-image">
            <div class="collection-one">
              <a href="{{ collections[collection1].url }}" class="dacing-font" title="{{ collections[collection1].title }}">
                <div class="image-wrapper desktop_image xs-hide">
                 {%- assign src_name = block.settings.collection_image_1_desktop -%}
                 {%- assign src_alt = block.settings.collection_image_1_desktop.alt | escape -%}
                 {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
                </div>
                <div class="image-wrapper mobile_image xs-show">
                  {%- assign src_name = block.settings.collection_image_1_desktop -%}
                  {%- assign src_alt = block.settings.collection_image_1_desktop.alt | escape -%}
                  {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
                </div>
                <div class="title">{{ collections[collection1].title }}</div>
              </a>
            </div>
            <div class="collection-two">
              <a href="{{ collections[collection2].url }}" class="dacing-font" title="{{ collections[collection2].title }}">
                <div class="image-wrapper desktop_image xs-hide">
                  {%- assign src_name = block.settings.collection_image_2_desktop -%}
                  {%- assign src_alt = block.settings.collection_image_2_desktop.alt | escape -%}
                  {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
                </div>
                <div class="image-wrapper mobile_image xs-show">
                  {%- assign src_name = block.settings.collection_image_2_mobile -%}
                  {%- assign src_alt = block.settings.collection_image_2_mobile.alt | escape -%}
                  {% render 'srcset',src_name:src_name,src_alt:src_alt,preload_src:false %}
                </div>               
                <div class="title">{{ collections[collection2].title }}</div>
              </a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
        
  </div>
</div>
{% schema %}
{
  "name": "Landing page 3",
  "settings": [
    {
      "type": "image_picker",
      "id": "banner_image_desktop",
      "label": "Banner Image(Desktop)"
    },
    {
      "type": "image_picker",
      "id": "banner_image_mobile",
      "label": "Banner Image(Mobile)"
    },
    {
      "type": "text",
      "id": "banner_title_text",
      "label": "Banner Title"
    },
    {
      "type": "richtext",
      "id": "banner_subtitle_text",
      "label": "Banner Subtitle"
    },
    {
      "type": "text",
      "id": "collection_title",
      "label": "Collection Title"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Slider Collection"
    },
    {
      "type": "select",
      "id": "product_limit",
      "label": "Limit for product slider",
      "default": "10",
      "options": [
      {
        "value": "5",
        "label": "5"
      },
      {
        "value": "10",
        "label": "10"
      },
      {
        "value": "15",
        "label": "15"
      },
      {
        "value": "20",
        "label": "20"
      }
      ]
    }
  ],
  "blocks": [
  {
    "type": "collection",
    "name": "Image with text",
    "settings": [
    {
      "type": "image_picker",
      "id": "block_desktop_image",
      "label": "Desktop Image"
    },
    {
      "type": "image_picker",
      "id": "block_mobile_image",
      "label": "Mobile Image"
    },
    {
     "type": "select",
     "id": "text_align",
     "label": "Align Text",
     "options": [
       {
         "value": "left",
         "label": "Left"
       },
       {
         "value": "right",
         "label": "Right"
       }
     ],
     "default": "left"
    },
    {
      "type": "text",
      "id": "block_minititle_text",
      "label": "Title Mini text"
    },
    {
      "type": "text",
      "id": "block_title_text",
      "label": "Title text"
    },
    {
      "type": "richtext",
      "id": "block_subtitle_text",
      "label": "Subtitle text"
    }
    ]
    },
    {
    "type": "three_image",
    "name": "Three Image",
    "settings": [
      {
        "type": "header",
        "content": "Three Image Section"
      },
      {
        "type": "image_picker",
        "id": "three_image_1_desktop",
        "label": "Three Image (Desktop)"
      },
      {
        "type": "image_picker",
        "id": "three_image_1_mobile",
        "label": "Three Image (Mobile)"
      },
      {
        "type": "text",
        "id": "three_image_title_text",
        "label": "Three Image Title"
      },
      {
        "type": "richtext",
        "id": "three_image_subtitle_text",
        "label": "Three Image Subtitle"
      }
    ]
    },
    {
      "type": "collection_with_image",
      "name": "Collection With Image",
      "settings": [
        {
          "type": "header",
          "content": "Collection With Image"
        },
        {
          "type": "text",
          "id": "collection_title_text",
          "label": "Collection Title"
        },
        {
          "type": "richtext",
          "id": "collection_subtitle_text",
          "label": "Collection Subtitle"
        },
        {
          "type": "text",
          "id": "collection_1_handle",
          "label": "Collection 1 Handle"
        },
        {
          "type": "image_picker",
          "id": "collection_image_1_desktop",
          "label": "Collection Image 1(Desktop)"
        },
        {
          "type": "image_picker",
          "id": "collection_image_1_mobile",
          "label": "Collection Image 2(Mobile)"
        },
        {
          "type": "text",
          "id": "collection_2_handle",
          "label": "Collection 2 Handle"
        },
        {
          "type": "image_picker",
          "id": "collection_image_2_desktop",
          "label": "Collection Image 2(Desktop)"
        },
        {
          "type": "image_picker",
          "id": "collection_image_2_mobile",
          "label": "Collection Image 1(Mobile)"
        }
      ]
    }
  ]
}
{% endschema %}